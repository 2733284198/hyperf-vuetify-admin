(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["modules34"],{8547:function(e,t,n){"use strict";var r=n("2b0e"),o=n("80d2");t["a"]=r["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:o["k"]}}})},a7f8:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"500px",scrollable:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v("权限管理："+e._s(e.role.name))]),n("v-spacer"),n("v-switch",{staticClass:"mr-2",attrs:{label:"展开/关闭"},model:{value:e.openAll,callback:function(t){e.openAll=t},expression:"openAll"}})],1),n("v-card-text",{staticStyle:{"max-height":"450px"}},[n("v-treeview",{ref:"tree",attrs:{items:e.resources,"item-text":"p","item-key":"p",selectable:"",hoverable:"","open-on-click":"","open-all":e.openAll,transition:""},model:{value:e.roleResources,callback:function(t){e.roleResources=t},expression:"roleResources"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return t.stopPropagation(),e.close(t)}}},[e._v("取消")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return t.stopPropagation(),e.save(t)}}},[e._v("保存")])],1)],1)],1)},o=[],s=n("4c0e"),a=n("e752"),c={data:function(){return{dialog:!1,openAll:!1,resources:[],role:{},roleResources:[]}},watch:{openAll:function(e){this.$refs.tree.updateAll(e)}},created:function(){this.getResources()},methods:{showForm:function(e){this.getRoleResources(e.id),this.role=e,this.dialog=!0},close:function(){this.role={},this.roleResources=[],this.dialog=!1},save:function(){var e=this;a["i"](this.role.id,this.roleResources).then((function(){e.close()}))},getResources:function(){var e=this;s["b"]().then((function(t){var n=t.data;e.resources=n}))},getRoleResources:function(e){var t=this;a["d"](e).then((function(e){var n=e.data;t.roleResources=n}))}}},u=c,i=n("2877"),l=n("6544"),d=n.n(l),f=n("8336"),p=n("b0af"),h=n("99d9"),v=n("169a"),b=n("2fa4"),g=n("b73d"),m=n("eb2a"),R=Object(i["a"])(u,r,o,!1,null,null,null);t["default"]=R.exports;d()(R,{VBtn:f["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VDialog:v["a"],VSpacer:b["a"],VSwitch:g["a"],VTreeview:m["a"]})},e752:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"i",(function(){return p}));var r=n("751a"),o=n("ed08"),s=function(e,t){var n=Object(o["a"])(e,t);return r["a"].get("/sys/roles",{params:n})},a=function(e){return r["a"].post("/sys/roles",e)},c=function(e,t){return r["a"].patch("/sys/roles/"+e,t)},u=function(e){return r["a"].get("/sys/roles/"+e)},i=function(e){return r["a"].delete("/sys/roles/"+e)},l=function(e){return r["a"].get("/sys/roleMenus/"+e)},d=function(e,t,n){return r["a"].patch("/sys/roleMenus/"+e,{menus:t,menusWithParents:n})},f=function(e){return r["a"].get("/sys/roleResources/"+e)},p=function(e,t){return r["a"].patch("/sys/roleResources/"+e,{resources:t})}}}]);