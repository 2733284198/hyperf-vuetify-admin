(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["modules32"],{"099a":function(t,e){function n(t,e,n){var i=n-1,o=t.length;while(++i<o)if(t[i]===e)return i;return-1}t.exports=n},"0ec4":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{"max-width":"500px",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v("菜单权限："+t._s(t.role.name))]),n("v-spacer"),n("v-switch",{staticClass:"mr-2",attrs:{label:"展开/关闭"},model:{value:t.openAll,callback:function(e){t.openAll=e},expression:"openAll"}})],1),n("v-card-text",{staticStyle:{"max-height":"450px"}},[n("v-treeview",{ref:"tree",attrs:{items:t.menus,selectable:"",hoverable:"","open-on-click":"","open-all":t.openAll,transition:""},scopedSlots:t._u([{key:"prepend",fn:function(e){var i=e.item;return[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[n("v-icon",t._g({attrs:{small:"",color:"primary"}},o),[t._v(t._s(1==i.type?"mdi-menu":"mdi-gesture-tap-hold"))])]}}],null,!0)},[n("span",[t._v(t._s(1==i.type?"菜单":"按钮"))])])]}}]),model:{value:t.roleMenus,callback:function(e){t.roleMenus=e},expression:"roleMenus"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[t._v("取消")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return e.stopPropagation(),t.save(e)}}},[t._v("保存")])],1)],1)],1)},o=[],r=(n("99af"),n("d81d"),n("4c0e")),s=n("e752");function a(t,e){if(t){var n=l(t,e),i=c(n,e),o=[];return i&&i.length>0&&i.map((function(t){o.push(t.id)})),o.reverse()}}function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t&&0!==t.pid){u(t,n,e);var o=n[i];return c(o,e,n,++i),n}}function u(t,e,n){for(var i=0;i<n.length;i++){var o=n[i];if(o.id===t.pid)return void e.push(o);o.children&&o.children.length>0&&u(t,e,o.children)}}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(i.id===t)return i;if(i.children&&i.children.length>0){var o=l(t,i.children);if(o)return o}}}var h=a,f=n("eed6"),d=n.n(f),p={data:function(){return{dialog:!1,openAll:!1,menus:[],role:{},roleMenus:[]}},watch:{openAll:function(t){this.$refs.tree.updateAll(t)}},created:function(){this.getMenus()},methods:{showForm:function(t){this.getRoleMenus(t.id),this.role=t,this.dialog=!0},close:function(){this.role=[],this.roleMenus=[],this.dialog=!1},save:function(){var t=this,e=[];this.roleMenus.map((function(n){var i=h(n,t.menus);i.push(n),e=d()(e.concat(i))})),s["h"](this.role.id,this.roleMenus,e).then((function(){t.close()}))},getMenus:function(){var t=this;r["a"]().then((function(e){var n=e.data;t.menus=n}))},getRoleMenus:function(t){var e=this;s["c"](t).then((function(t){var n=t.data;e.roleMenus=n}))}}},v=p,g=n("2877"),m=n("6544"),b=n.n(m),x=n("8336"),y=n("b0af"),w=n("99d9"),A=n("169a"),_=n("132d"),k=n("2fa4"),C=n("b73d"),M=n("3a2f"),T=n("eb2a"),O=Object(g["a"])(v,i,o,!1,null,null,null);e["default"]=O.exports;b()(O,{VBtn:x["a"],VCard:y["a"],VCardActions:w["a"],VCardText:w["b"],VCardTitle:w["c"],VDialog:A["a"],VIcon:_["a"],VSpacer:k["a"],VSwitch:C["a"],VTooltip:M["a"],VTreeview:T["a"]})},"2b03":function(t,e){function n(t,e,n,i){var o=t.length,r=n+(i?1:-1);while(i?r--:++r<o)if(e(t[r],r,t))return r;return-1}t.exports=n},"2c66":function(t,e,n){var i=n("d612"),o=n("8db3"),r=n("5edf"),s=n("c584"),a=n("750a"),c=n("ac41"),u=200;function l(t,e,n){var l=-1,h=o,f=t.length,d=!0,p=[],v=p;if(n)d=!1,h=r;else if(f>=u){var g=e?null:a(t);if(g)return c(g);d=!1,h=s,v=new i}else v=e?[]:p;t:while(++l<f){var m=t[l],b=e?e(m):m;if(m=n||0!==m?m:0,d&&b===b){var x=v.length;while(x--)if(v[x]===b)continue t;e&&v.push(b),p.push(m)}else h(v,b,n)||(v!==p&&v.push(b),p.push(m))}return p}t.exports=l},"3a2f":function(t,e,n){"use strict";n("a9e3");var i=n("ade3"),o=(n("9734"),n("4ad4")),r=n("a9ad"),s=n("16b7"),a=n("b848"),c=n("75eb"),u=n("f573"),l=n("f2e7"),h=n("80d2"),f=n("d9bd"),d=n("58df");e["a"]=Object(d["a"])(r["a"],s["a"],a["a"],c["a"],u["a"],l["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String,zIndex:{default:null}},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,n=t.content,i=!this.bottom&&!this.left&&!this.top&&!this.right,o=!1!==this.attach?e.offsetLeft:e.left,r=0;return this.top||this.bottom||i?r=o+e.width/2-n.width/2:(this.left||this.right)&&(r=o+(this.right?e.width:-n.width)+(this.right?10:-10)),this.nudgeLeft&&(r-=parseInt(this.nudgeLeft)),this.nudgeRight&&(r+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(r,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,n=t.content,i=!1!==this.attach?e.offsetTop:e.top,o=0;return this.top||this.bottom?o=i+(this.bottom?e.height:-n.height)+(this.bottom?10:-10):(this.left||this.right)&&(o=i+e.height/2-n.height/2),this.nudgeTop&&(o-=parseInt(this.nudgeTop)),this.nudgeBottom&&(o+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(o+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(h["h"])(this.maxWidth),minWidth:Object(h["h"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(h["s"])(this,"activator",!0)&&Object(f["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=o["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===h["w"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(i["a"])(t,this.contentClass,!0),Object(i["a"])(t,"menuable__content__active",this.isActive),Object(i["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},"47f5":function(t,e,n){var i=n("2b03"),o=n("d9a8"),r=n("099a");function s(t,e,n){return e===e?r(t,e,n):i(t,o,n)}t.exports=s},"5edf":function(t,e){function n(t,e,n){var i=-1,o=null==t?0:t.length;while(++i<o)if(n(e,t[i]))return!0;return!1}t.exports=n},"750a":function(t,e,n){var i=n("c869"),o=n("bcdf"),r=n("ac41"),s=1/0,a=i&&1/r(new i([,-0]))[1]==s?function(t){return new i(t)}:o;t.exports=a},8547:function(t,e,n){"use strict";var i=n("2b0e"),o=n("80d2");e["a"]=i["a"].extend({name:"comparable",props:{valueComparator:{type:Function,default:o["k"]}}})},"8db3":function(t,e,n){var i=n("47f5");function o(t,e){var n=null==t?0:t.length;return!!n&&i(t,e,0)>-1}t.exports=o},9734:function(t,e,n){},bcdf:function(t,e){function n(){}t.exports=n},d9a8:function(t,e){function n(t){return t!==t}t.exports=n},e752:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"g",(function(){return a})),n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"h",(function(){return h})),n.d(e,"d",(function(){return f})),n.d(e,"i",(function(){return d}));var i=n("751a"),o=n("ed08"),r=function(t,e){var n=Object(o["a"])(t,e);return i["a"].get("/sys/roles",{params:n})},s=function(t){return i["a"].post("/sys/roles",t)},a=function(t,e){return i["a"].patch("/sys/roles/"+t,e)},c=function(t){return i["a"].get("/sys/roles/"+t)},u=function(t){return i["a"].delete("/sys/roles/"+t)},l=function(t){return i["a"].get("/sys/roleMenus/"+t)},h=function(t,e,n){return i["a"].patch("/sys/roleMenus/"+t,{menus:e,menusWithParents:n})},f=function(t){return i["a"].get("/sys/roleResources/"+t)},d=function(t,e){return i["a"].patch("/sys/roleResources/"+t,{resources:e})}},eed6:function(t,e,n){var i=n("2c66");function o(t){return t&&t.length?i(t):[]}t.exports=o}}]);